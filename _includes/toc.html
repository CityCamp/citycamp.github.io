{% assign chapters = include.html | split: '<h' %}
{% if chapters.size > 1 %}
  <div class="d-none d-md-block">
    <p class="border-bottom pb-3">On this page</p>
    <ul class="flex-column p-0">
      {% for chapter in chapters %}
        {% if chapter != chapters[0] %}
          {% assign id = chapter | split: 'id="' %}
          {% assign id = id[1] | split: '"' %}
          {% assign id = id[0] %}
          {% assign level = chapter | slice: 0, 1 %}
          {% assign title = chapter | split: '>' %}
          {% assign title = title[1] | split: '</h' %}
          {% assign title = title[0] %}
          <li class="mb-1 {% if level == '3' %}ms-4{% else %}nav{% endif %}">
            <a href="#{{ id }}">{{ title }}</a>
          </li>
        {% endif %}
      {% endfor %}
    </ul>
  </div>
{% endif %}